webpackJsonp([3],{"5fp+":function(e,r){},P7ry:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("mvHQ"),o=t.n(s),i=t("1pQF"),n={name:"Login",data:function(){return{username:"",email:"",password:"",nusername:"",nemail:"",npassword:"",npassword2:"",login:0,emailErr:!1,passwordErr:!1,loginErr:!1,loginTitle:"用户名或密码错误",nusernameErr:!1,nemailErr:!1,npasswordErr:!1,npassword2Err:!1,registerErr:!1,registerTitle:"该邮箱已注册",err2005:!1,step:1,fullscreenLoading:!1,urlstate:0}},methods:{routeChange:function(){this.login=void 0==this.$route.query.login?1:parseInt(this.$route.query.login),this.urlstate=void 0==this.$route.query.urlstate?0:this.$route.query.urlstate,0==this.urlstate?(this.err2005=!1,this.step=1):"urlInvalid"==this.urlstate?(this.err2005=!0,this.step=2):"urlErr"==this.urlstate&&(this.err2005=!0,this.step=1)},loginEnterFun:function(e){13==(window.event?e.keyCode:e.which)&&this.gotoHome()},gotoHome:function(){var e=this;/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(e.email)?e.emailErr=!1:e.emailErr=!0,e.password&&/^(\w){6,12}$/.test(e.password)?e.passwordErr=!1:e.passwordErr=!0,e.emailErr||e.passwordErr||Object(i.d)(e.email,e.password,function(r){1010==r.code?(localStorage.setItem("userInfo",o()(r.data)),localStorage.setItem("accessToken",r.token),localStorage.getItem("logUrl")?e.$router.push({path:localStorage.getItem("logUrl")}):e.$router.push({path:"/"})):2008==r.code||2007==r.code?(e.loginErr=!0,e.loginTitle="邮箱或密码错误"):2009==r.code?(e.loginErr=!0,e.loginTitle="该邮箱注册码未激活，请前往邮箱激活"):2005==r.code?e.err2005=!0:(e.loginErr=!0,e.loginTitle="登录失败")})},registerEnterFun:function(e){13==(window.event?e.keyCode:e.which)&&this.newRegister()},goLogin:function(){this.err2005=!1,this.$router.push({path:"/Login?login=1"})},goRegister:function(){this.err2005=!1,this.$router.push({path:"/Login?login=0"})}},components:{},watch:{$route:"routeChange"},created:function(){this.routeChange()}},a={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"container"},[t("h1",{staticClass:"loginTitle"},[t("a",{attrs:{href:"#/"}},[e._v(e._s((this.$store.state.themeObj.user_start,"Sue 的博客")))])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.err2005,expression:"!err2005"}]},[1==e.login?t("div",{staticClass:"loginBox"},[e._m(0),e._v(" "),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.loginErr,expression:"loginErr"}],attrs:{title:e.loginTitle,type:"error","show-icon":"",closable:!1}}),e._v(" "),t("el-input",{attrs:{type:"email",placeholder:"邮箱"},model:{value:e.email,callback:function(r){e.email=r},expression:"email"}}),e._v(" "),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.emailErr,expression:"emailErr"}],attrs:{title:"请输入邮箱",type:"error","show-icon":"",closable:!1}}),e._v(" "),t("el-input",{attrs:{type:"password",placeholder:"密码"},nativeOn:{keyup:function(r){return"button"in r||!e._k(r.keyCode,"enter",13,r.key,"Enter")?e.loginEnterFun(r):null}},model:{value:e.password,callback:function(r){e.password=r},expression:"password"}}),e._v(" "),t("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.passwordErr,expression:"passwordErr"}],attrs:{title:"请输入密码",type:"error","show-icon":"",closable:!1}}),e._v(" "),t("div",{staticClass:"lr-btn tcolors-bg",on:{click:e.gotoHome}},[e._v("登录")])],1):e._e()])])])},staticRenderFns:[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"lr-title"},[r("h1",[this._v("登录")]),this._v(" "),r("p",[this._v("\n            新用户\n            "),r("a",{staticClass:"tcolors",attrs:{href:"#/Login?login=0"}},[this._v("注册")])])])}]};var l=t("VU/8")(n,a,!1,function(e){t("5fp+")},null,null);r.default=l.exports}});HQ:function(e,t,r){e.exports={default:r("qkKv"),__esModule:!0}},qkKv:function(e,t,r){var s=r("FeBl"),o=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}}});